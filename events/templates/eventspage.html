{% load static %}
{% load event_filter_tags %}
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Shore' 24 Prelims</title>
    <link rel="icon" type="image/x-icon" href="{% static 'shore_24_clogo.png'%}">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FTVGGBL7NF"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FTVGGBL7NF');
    </script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/normalize.css' %}" />
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'fonts/font-awesome-4.3.0/css/font-awesome.min.css' %}"
    />
    <link rel="stylesheet" type="text/css" href="{% static 'css/demo.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/card.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/pattern.css' %}" />
    
    <script>
      if (navigator.userAgent.toLowerCase().indexOf("firefox") > -1) {
        var root = document.getElementsByTagName("html")[0];
        root.setAttribute("class", "ff");
      }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit&family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.0/flowbite.min.js"></script>
    <style>
      #shorenav {
        text-align: center;
        font-size: 5rem;
        position: relative;

        font-family: Georgia;
      }
      #icon {
        background: #00000000;
        color: white;
        border-radius: inherit;
        font-size: 2.5rem;
        z-index: 10;
      }
      #user-dropdown {
        display: none;
        position: absolute;
        z-index: 100; /* Ensure the dropdown is on top */
        background-color: white; /* Change background color as needed */
        padding: 10px;
        /* Other styles for the dropdown menu */
      }

      #user-dropdown.show {
        display: block;
      }

      .blurred-background {
        filter: blur(4px); /* Add blur effect */
        pointer-events: none; /* Prevent clicks on the background */
      }
      ol {
        list-style-type: disc; /* or other list-style-type like disc, circle, etc. */
      }
    </style>
    <style>
      .card__content{
        color: white !important;
        background: linear-gradient(to bottom right, #06399d, #9a1525, #153477);
      }
    </style>
  </head>
  <body class="demo-3" style="font-family: Helvetica; background: linear-gradient(to bottom right, #276fff, #ce3345, #4575de);">
    {% include 'messages.html' %}
    <div class="container">
      <header class="codrops-header"> 
        <nav class="border-gray-200 dark:bg-gray-900" id="shorenav">
          <div
            class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4 md:pr-6"
          >
            <div class="flex items-center">
              <img src="{%  static 'shore_24_clogo.png' %}" alt="Logo" class="h-24 w-auto" /> <!-- Replace 'path_to_your_logo_image.png' with the actual path to your logo -->
            </div>
            <div
              class="flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse"
            >
              <button
                type="button"
                class="flex text-sm md:me-0"
                id="user-menu-button"
                aria-expanded="false"
                data-dropdown-toggle="user-dropdown"
                data-dropdown-placement="bottom"
              >
                <i class="material-icons" id="icon">menu</i>
              </button>
              <!-- Dropdown menu -->
              <div
                class="z-50 my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600"
                id="user-dropdown"
              >
                <ul class="py-2" aria-labelledby="user-menu-button">
                  <li>
                    <a
                      href="{% url 'index' %}"
                      class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"
                      >Home</a
                    >
                  </li>
                  <li>
                    <a
                      href="{% url 'events:eventshome' %}"
                      class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white"
                      >Events Home</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </nav>
        <script>
          const menuButton = document.getElementById("user-menu-button");
          const dropdownMenu = document.getElementById("user-dropdown");

          menuButton.addEventListener("click", () => {
            menuButton.classList.toggle("active");
            dropdownMenu.classList.toggle("show");
            <!-- document.body.classList.toggle('blurred-background'); -->
          });

          // Close the dropdown when clicking outside of it
          document.addEventListener("click", function (event) {
            const isClickInsideMenu = dropdownMenu.contains(event.target);
            const isClickInsideButton = menuButton.contains(event.target);
            if (!isClickInsideMenu && !isClickInsideButton) {
              menuButton.classList.remove("active");
              dropdownMenu.classList.remove("show");
              document.body.classList.remove("blurred-background");
            }
          });
        </script>
      </header>
      <div class="content">
        <!-- trianglify pattern container -->
        <div class="pattern pattern--hidden"></div>
        <!-- cards -->
        <div class="wrapper">
          <!-- card -->
          {% for event in events %}
          <div class="card">
            <div class="card__container card__container--closed">
              <svg
                class="card__image"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 1920 500"
                preserveAspectRatio="xMidYMid slice"
              >
                <defs>
                  <clipPath id="clipPath_{{ forloop.counter }}">
                    <polygon
                      class="clip"
                      points="0,500 0,0 1920,0 1920,500"
                    ></polygon>
                  </clipPath>
                </defs>
                <image
                  clip-path="url(#clipPath_{{ forloop.counter }})"
                  width="1920"
                  height="500"
                  xlink:href="https://shore.gitam.edu/home/ubuntuserver/Shore24/media/{{ event.image }}"
                ></image>
              </svg>
              <!-- Div -->
              <div class="card__content">
                <i class="card__btn-close fa fa-times"></i>
                <div class="card__caption">
                  <h2 class="card__title title " style="color: #ffffff;">{{ event.name.title }}</h2>
                  <p class="card__subtitle title" style="color: #ffffff;">{{ event.name.title }} Competition</p>
                </div>

                
                <div class="card__copy">
                <!--  border-bottom: 2px solid #ffffff; -->
                  <p style="margin-bottom: 10px;color: #ffffff;"><strong>Team Limit:</strong> Each team can have {{ event.min_team_size }} to {{ event.max_team_size }} members.</p>
                  {% if event.requirements %}
                  <h2 style="color: #ffffff; padding-bottom: 5px; margin-bottom: 15px;">Requirements:</h2>
                  <ul style="list-style-type: disc; margin-bottom: 15px;margin-left:40px;"></ul>
                    {% with event.requirements|split:"\n" as requirements %}
                    {% for requirement in requirements %}
                    <li>{{ requirement }}</li>
                    {% endfor %}
                    {% endwith %}
                  </ul>
                  {% endif %}

                  {% if event.guidelines %}
                  <h3 style="color: #ffffff; margin-bottom: 10px;font-weight:bolder">Guidelines:</h3>
                  <ul style="list-style-type: disc; margin-bottom: 15px;margin-left:40px;">
                    {% with event.guidelines|split:"\n" as guidelines %}
                    {% for guideline in guidelines %}
                    <li>{{ guideline }}</li>
                    {% endfor %}
                    {% endwith %}
                  </ul>
                  {% endif %}

                  {% if event.judiciary %}
                  <h3 style="color: #ffffff; margin-bottom: 10px;font-weight:bolder;">Judging Criteria:</h3>
                  <ol style="padding-left: 0; margin-left: 40px;">
                    {% with event.judiciary|split:"\n" as criterias %}
                    {% for criteria in criterias %}
                    <li style="margin-bottom: 10px;">{{ criteria }}</li>
                    {% endfor %}
                    {% endwith %}
                  </ol>
                  {% endif %}
                  <br/>
                  <div class="flex items-center mb-4">
                    <input
                      class="checkbox-agree"
                      id="checkbox-{{ event.name }}"
                      type="checkbox"
                      value=""
                      class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                    />
                    <label
                      for="checkbox-{{ event.name }}"
                      class="ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"
                      style="color:white"
                      >I hereby agree to all the terms and conditions </label>
                  </div>
                  <br />
                  <center>
                    <div class="registration-div" id="registration-div-{{ event.name }}" style="display: none;">
                      <a href="{% url 'events:selectCollege' event.name %}"
                        type="button"
                        id="registerButton"
                        class="text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2"
                      >
                        Next
                      </a>
                    </div>
                  </center>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        <!-- /cards -->
      </div>
      <!-- /content -->
    </div>
    <!-- /container -->
    <!-- JS -->
    <script>
      {% for event in events %}
      var checkbox_{{ event.name }} = document.getElementById('checkbox-{{ event.name }}');

      var registrationDiv_{{ event.name }} = document.getElementById('registration-div-{{ event.name }}');

      checkbox_{{ event.name }}.addEventListener('change', function () {
        if (checkbox_{{ event.name }}.checked) {
          registrationDiv_{{ event.name }}.style.display = 'block';
        } else {
          registrationDiv_{{ event.name }}.style.display = 'none';
        }
      })
      {% endfor %}

      function toggleRegistrationDiv(checkboxId, registrationDivId) {
    var checkbox = document.getElementById(checkboxId);
    var registrationDiv = document.getElementById(registrationDivId);

    // Check if the checkbox is checked
    if (checkbox.checked) {
      // Display the corresponding registration div
      registrationDiv.style.display = 'block';
    } else {
      // Hide the corresponding registration div
      registrationDiv.style.display = 'none';
    }
  }
    </script>
    <script src="{% static 'js/vendors/trianglify.min.js' %}"></script>
    <script src="{% static 'js/vendors/TweenMax.min.js' %}"></script>
    <script src="{% static 'js/vendors/ScrollToPlugin.min.js' %}"></script>
    <script src="{% static 'js/vendors/cash.min.js' %}"></script>
    <script src="{% static 'js/Card-polygon.js' %}"></script>
    <script src="{% static 'js/demo-3.js' %}"></script>
  </body>
</html>